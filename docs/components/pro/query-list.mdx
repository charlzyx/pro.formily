# ğŸ’ Query List

> QueryList æ˜¯ä¸ºäº†è§£å†³å¸¸è§çš„ CRUD æŸ¥è¯¢åˆ—è¡¨çš„æ ·æ¿ä»£ç çš„é—®é¢˜ã€‚

æ€è·¯åŸºæœ¬ä¸Šå°±æ˜¯ç…§ç€å®˜ç½‘æŒ‡å¯¼ [formilyjs.org/æŸ¥è¯¢åˆ—è¡¨](https://formilyjs.org/zh-CN/guide/scenes/query-list#%E6%9F%A5%E8%AF%A2%E5%88%97%E8%A1%A8),
åœ¨äº¤äº’å½¢å¼å’Œé…ç½®é¡¹ä¸Šåˆ™æ›´å¤šæ˜¯å‚è€ƒ [ProComponents/ProTable](https://procomponents.ant.design/components/table);

```tsx | pure
<QueryList service={service}>
  <QueryForm />
  <QueryTable />
</QueryList>
```


## QueryList#service - æŸ¥è¯¢æœåŠ¡
ä¸»è¦è¯·æ±‚å‡½æ•°, è¿”å›æ•°æ®åˆ—è¡¨ä¸æ€»æ•°, å…¥å‚åŒ…æ‹¬æŸ¥è¯¢è¡¨å•, åˆ†é¡µã€ç­›é€‰ã€æ’åº; å…¥å‚ä¸ [AntD#Table/onChange](https://ant-design.antgroup.com/components/table-cn/#API) ä¿æŒä¸€è‡´, è¿½åŠ äº† params å³æŸ¥è¯¢è¡¨å•çš„å‚æ•°;

```ts | pure
type Service = (data:
{
  /** æŸ¥è¯¢è¡¨å•å‚æ•° **/
  params: {}
  /** åˆ†é¡µå‚æ•°, å‚è€ƒ AntD **/
  pagination: {
    current: number,
    pageSize: number
  },
  /** è¿‡æ»¤å‚æ•°, å‚è€ƒ AntD **/
  filters: [],
  /** æ’åºå‚æ•°, å‚è€ƒ AntD **/
  sorter: {},
  /** é¢å¤–ä¿¡æ¯, å‚è€ƒ AntD **/
  extra: {
    action: 'paginate' | 'sort' | 'filter',
    currentDataSouce: Record[]
  }
}) => Promise<{ list: Record[], total: number }>
```

## QueryForm æŸ¥è¯¢è¡¨å•

é…ç½®é¡¹ä¸»è¦æ˜¯ layout & grid å¸ƒå±€å±æ€§

```tsx | pure
type QueryFormProps = React.PropsWithChildren<{
  resetText?: string;
  submitText?: string;
  grid?: React.ComponentProps<typeof FormGrid>;
  layout?: React.ComponentProps<typeof FormLayout>;
}>;
```

## QueryTable æŸ¥è¯¢è¡¨æ ¼

QueryTableæ˜¯åŸºäº ProArrayTable çš„å°è£…, åªæ˜¯å¤„ç†ä¸ QueryList ç›¸å…³è”çš„åˆ†é¡µä¸æŸ¥è¯¢é€»è¾‘;
æ‰€ä»¥å‡ ä¸ªåŠŸèƒ½é’©å­ `ProArrayTable.xxx` æ˜¯å¯ä»¥ç›´æ¥ç”¨çš„; å±æ€§ä¹Ÿå®Œå…¨ä¸€è‡´;

<code src="../demos/QueryList.tsx"  />
